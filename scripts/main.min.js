function viewportW(){var e=window,n="inner";return"innerWidth"in window||(n="client",e=document.documentElement||document.body),e[n+"Width"]}function breakpoint(e){viewportW()>=maxWidth?(e&&($leftMenu.offCanvas("closeMenu",null,null),footerRoom=!1),Modernizr.csscolumns?makeRoomForFooter():jQuery().columnize||$.getScript("/scripts/shivs/jquery.columnizer.min.js").done(function(){$footerNav.find(".level1").columnize({width:120,doneFunc:function(){makeRoomForFooter()}})})):e&&$footerPadEl.css("paddingBottom","0")}function scrollToAnchor(e){var n=$(e).offset().top,t=n;$("html, body").animate({scrollTop:t+"px"},{duration:700,easing:"swing"})}function makeRoomForFooter(){footerRoom||(footerRoom=!0,$footerPadEl.css("paddingBottom",function(){return $footer.outerHeight()}))}!function(e){var n,t,i=e.event;n=i.special.debouncedresize={setup:function(){e(this).on("resize",n.handler)},teardown:function(){e(this).off("resize",n.handler)},handler:function(e,o){var s=this,a=arguments,l=function(){e.type="debouncedresize",i.dispatch.apply(s,a)};t&&clearTimeout(t),o?l():t=setTimeout(l,n.threshold)},threshold:150}}(jQuery),function(e){e.cookieBar=function(n,t){if("cookies"==n)var i="cookies";else if("set"==n)var i="set";else var i=!1;var o={message:"We use cookies to track usage and preferences.",acceptButton:!0,acceptText:"I Understand",declineButton:!1,declineText:"Disable Cookies",policyButton:!1,policyText:"Privacy Policy",policyURL:"/privacy-policy/",autoEnable:!0,expireDays:365,forceShow:!1,effect:"slide",element:"body",append:!1,fixed:!1,redirect:String(window.location.href),domain:String(window.location.hostname)},n=e.extend(o,n),s=new Date;s.setTime(s.getTime()+24*n.expireDays*60*60*1e3),s=s.toGMTString();var a,l,r="cb-enabled={value}; expires="+s+"; path=/",c="",d=document.cookie.split("; ");for(a=0;a<d.length;a++)l=d[a].split("="),"cb-enabled"==l[0]&&(c=l[1]);if(""==c&&n.autoEnable&&(c="enabled",document.cookie=r.replace("{value}","enabled")),"cookies"==i)return"enabled"==c||"accepted"==c?!0:!1;if("set"==i&&("accepted"==t||"declined"==t))return document.cookie=r.replace("{value}",t),"accepted"==t?!0:!1;var u=n.message.replace("{policy_url}",n.policyURL);if(n.acceptButton)var f='<a href="" class="cb-enable btn">'+n.acceptText+"</a>";else var f="";if(n.declineButton)var p='<a href="" class="cb-disable btn">'+n.declineText+"</a>";else var p="";if(n.policyButton)var h='<a href="'+n.policyURL+'" class="cb-policy btn">'+n.policyText+"</a>";else var h="";if(n.fixed)var v=' class="fixed"';else var v="";(n.forceShow||"enabled"==c||""==c)&&(n.append?e(n.element).append('<div id="cookie-bar"'+v+"><p>"+u+f+p+h+"</p></div>"):e(n.element).prepend('<div id="cookie-bar"'+v+"><p>"+u+f+p+h+"</p></div>")),e("#cookie-bar .cb-enable").click(function(){return document.cookie=r.replace("{value}","accepted"),"enabled"==c||"accepted"==c?("slide"==n.effect?e("#cookie-bar").slideUp(300,function(){e("#cookie-bar").remove()}):"fade"==n.effect?e("#cookie-bar").fadeOut(300,function(){e("#cookie-bar").remove()}):e("#cookie-bar").hide(0,function(){e("#cookie-bar").remove()}),!1):(window.location=n.currentLocation,void 0)}),e("#cookie-bar .cb-disable").click(function(){var t=new Date;for(t.setTime(t.getTime()-864e6),t=t.toGMTString(),d=document.cookie.split("; "),a=0;a<d.length;a++)l=d[a].split("="),document.cookie=l[0].indexOf("_")>=0?l[0]+"=0; expires="+t+"; domain="+n.domain.replace("www","")+"; path=/":l[0]+"=0; expires="+t+"; path=/";return document.cookie=r.replace("{value}","declined"),"enabled"!=c||"accepted"==c?("slide"==n.effect?e("#cookie-bar").slideUp(300,function(){e("#cookie-bar").remove()}):"fade"==n.effect?e("#cookie-bar").fadeOut(300,function(){e("#cookie-bar").remove()}):e("#cookie-bar").hide(0,function(){e("#cookie-bar").remove()}),!1):(window.location=n.currentLocation,void 0)})}}(jQuery),function(e,n,t,i){function o(n,t){this.element=n,this.settings=e.extend({},u,t),this._defaults=u,this._name=d,this.init()}var s,a,l,r,c,d="offCanvas",u={copyType:"clone",side:"left",target:"body",titleText:"Menu",toggleIcon:null,iconOnly:!1,hiddenClass:"hideMenu",idSuffix:"-ocClone",pushElems:null,menuWidth:"80%",animSpeed:"400",levelUpIcon:"arrow-left",onInit:function(){},onOpen:function(){},onClose:function(){}},f=e("body"),p=(e("#debug"),!1),h=0,v=null,m={},g={},b={},y=t.createElement("transEnd"),C={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",MozTransition:"transitionend"},$=!1;o.prototype={init:function(){var n=this,t=e(this.element),i=this.settings;null==v&&(v=e(i.target)),"original"!=i.copyType&&t.addClass(i.hiddenClass),i.onInit(),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var n,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),Object.keys(m).length>=3||(h++,p||n._createTemplate(),null==g[i.side]?(n._addToggle(),"original"!=i.copyType&&(g[i.side]=n._cloneMenu(t),b[i.side]=g[i.side])):"original"!=i.copyType&&n._cloneMenu(t),"original"==i.copyType&&(t.addClass("offCanvasMenu offCanvasOriginal offCanvas-"+i.side),b[i.side]=t),$&&(r.add(b[i.side]).add(v.find("ul")).addClass("disableTranslate"),"original"==i.copyType&&t.addClass("disableTranslate")),m[i.side].toggle.off().on("click",function(){return n._toggleMenu(),!1}),null!=b[i.side]&&(b[i.side].find(".showChildren").off().on("click",function(n){var t=e(this).parent().siblings("ul");$&&t.animate({left:"0"},parseInt(i.animSpeed)),t.addClass("active").parents("ul").first().addClass("parentLevel");var o=parseInt(e(this).parentsUntil(v,"ul").length);return f.removeClass("active"+o).addClass("active"+(o+1)),n.stopPropagation(),!1}),b[i.side].find(".upalevel").children("i").off().on("click",function(n){var t=e(this).closest("ul");$?t.animate({left:"100%"},parseInt(i.animSpeed),function(){t.removeClass("active").parents("ul").first().removeClass("parentLevel")}):t.removeClass("active").parents("ul").first().removeClass("parentLevel");var o=parseInt(e(this).parentsUntil(v,"ul").length);return f.removeClass("active"+o).addClass("active"+(o-1)),n.stopPropagation(),!1})),f.find(".menu-overlay").add(l.menus).off().on("click touchend",function(e){null!=s&&n.closeMenu(s,a),e.stopPropagation()}),l.menus.children().on("click touchend",function(e){e.stopPropagation()}))},_createTemplate:function(){var n=this.settings;l={toggles:e("<div>",{id:"offCanvasToggles","class":"offCanvasToggles"}),menus:e("<div>",{id:"offCanvasMenus","class":"offCanvasMenus"}),overlay:e("<div>",{"class":"menu-overlay"})};var t;t=null==n.pushElems||""==n.pushElems||e(n.pushElems).length<1?v.next():e(n.pushElems),r=t.add(l.menus),t.prepend(l.overlay),v.prepend(l.menus),v.prepend(l.toggles),p=!0;for(var o in C)if(y.style[o]!==i){c=C[o];break}Modernizr.csstransforms3d&&Modernizr.csstransitions||($=!0)},_cloneMenu:function(n){var t=this,i=this.settings,o=!1;if(null!=g[i.side]&&"nav"!=g[i.side].get(0).tagName.toLowerCase()&&(o=!0),null==g[i.side]||o){var s=n.clone();s.attr("id",s.attr("id")+i.idSuffix+"-"+i.side).removeClass(i.hiddenClass).addClass("offCanvasMenu "+(o?"":"offCanvas-"+i.side)+(i.move?" move":" clone")).find("ul").first().addClass("firstLevel").find("a").attr("tabindex","-1"),s.find("*[id]").each(function(){e(this).attr("id",e(this).attr("id")+i.idSuffix+"-"+i.side)}),t._addLevelUp(s,!0),"move"==i.copyType&&n.remove();var a=l.menus;return o&&(a=l.menus.children(".offCanvas-"+i.side)),s.appendTo(a),s}var s=n.find("ul").first().clone();s.find("a").attr("tabindex","-1"),s.find("*[id]").each(function(){e(this).attr("id",e(this).attr("id")+i.idSuffix+"-"+i.side)}),t._addLevelUp(s,!1),"move"==i.copyType&&n.remove();var r=g[i.side].find("ul").first();r.append('<li class="title">'+i.titleText+"</li>"),s.children("li").appendTo(r)},_addLevelUp:function(n,t){var i=this.settings;$uls=t?n.find("ul").find("ul"):n.find("ul"),$uls.each(function(){parentName=e(this).siblings("a").children(".middle").html(),e(this).prepend('<li class="upalevel"><i class="im icn-'+(""!=i.levelUpIcon?i.levelUpIcon:"arrow-left")+'" aria-hidden="true"></i><span class="childrenof">'+parentName+"</span></li>")})},_addToggle:function(){var n=this.settings,t=null!=n.toggleIcon?e("<i>",{"class":"icon im icn-"+n.toggleIcon}):e("<span>",{"class":"icon burgercross"});m[n.side]={toggle:e("<a>",{id:n.side,"class":"menuToggle "+n.side+"Toggle"}),icon:t,text:e("<span>",{"class":"text"})},null==n.toggleIcon&&m[n.side].icon.html("<span></span>"),m[n.side].text.html('<span class="inner">'+n.titleText+"</span>"),m[n.side].toggle.append(m[n.side].icon),n.iconOnly&&null!=m[n.side].text?m[n.side].toggle.attr("title",n.titleText).addClass("icon-only"):""!=m[n.side].text&&m[n.side].toggle.append(m[n.side].text),l.toggles.append(m[n.side].toggle)},_toggleMenu:function(){var e=this;null==s?e._openMenu(e,e.settings):null!=s&&s!=e?e.closeMenu(s,a,function(){e._openMenu(e,e.settings)}):e.closeMenu(s,a)},_openMenu:function(n,t){var i,o;if(null!=n?(i=n,o=t):(i=this,o=this.settings),s=i,a=o,f.addClass("menuOpen "+i.settings.side+"Menu"+("original"==o.copyType?" originalOpen":" clonedOpen")),m[o.side].toggle.addClass("open"),o.onOpen(),$){var l={},c=i.settings.menuWidth;if("left"==i.settings.side)l.marginLeft=c;else if("right"==i.settings.side)l.marginLeft="-"+c;else if("center"==i.settings.side){var d=e(i.element),u=-1*d.outerHeight();return d.css({bottom:"auto",top:u}),l.top="0",e(i.element).animate(l,parseInt(i.settings.animSpeed)),void 0}r.animate(l,parseInt(i.settings.animSpeed))}},closeMenu:function(n,t,i){var o,l;if(null!=n?(o=n,l=t):(o=this,l=this.settings),f.removeClass("menuOpen leftMenu rightMenu centerMenu clonedOpen originalOpen"),m[l.side].toggle.removeClass("open"),$){var d,u={};"center"==l.side?(d=e(o.element),u.top=-1*d.outerHeight()):(d=r,u.marginLeft=0),d.animate(u,parseInt(l.animSpeed)).promise().done(function(){o._closeSubLevels(),s=null,a=null,i&&i(),l.onClose()})}else"original"!=l.copyType?v.one(c,function(){o._closeSubLevels(),s=null,a=null,i&&i(),l.onClose()}):(o._closeSubLevels(),s=null,a=null,i&&i(),l.onClose())},_closeSubLevels:function(){var e=b[this.settings.side].find(".active");e.removeClass("active"),e.parents(".parentLevel").first().removeClass("parentLevel"),f.removeClass("active1 active2 active3 active4"),$&&e.css("left","100%")}},e[d]=e.fn[d]=function(n){var t=arguments;if(n===i||"object"==typeof n){if(this instanceof e)return this.each(function(){e.data(this,"plugin_"+d)||e.data(this,"plugin_"+d,new o(this,n))});e.extend(u,n)}else if("string"==typeof n&&"_"!==n[0]&&"init"!==n){var s;return this.each(function(){var i=e.data(this,"plugin_"+d);i instanceof o&&"function"==typeof i[n]&&(s=i[n].apply(i,Array.prototype.slice.call(t,1)))}),s!==i?s:this}}}(jQuery,window,document),function(e,n,t,i){function o(n,t){this.element=n,this.settings=e.extend({},a,t),this._defaults=a,this._name=s,this.init()}var s="extendMenu",a={breakpoint:980,title:"More",icon:"ellipsis",contentEl:null,maxWidth:null,onInit:function(){},onComplete:function(){}},l={},r={},c={},d=!1;o.prototype={init:function(){var t=this,i=(e(this.element),this.settings);t.pageResizing(),Modernizr.mq("only all")&&e(n).on("debouncedresize",function(){t.pageResizing()}),e(n).load(function(){d=!0,t.viewportWidth()>=i.breakpoint&&t.construct()})},pageResizing:function(){var n=this,t=e(this.element),i=this.settings,o=t.attr("id"),s=t.find("li").first().outerHeight(!0),o=t.attr("id");n.viewportWidth()>=i.breakpoint?(c[o]||t.css({overflow:"hidden",height:s}),i.onInit(),null==c[o]&&(c[o]=!1),!c[o]&&d&&n.construct()):t.css({overflow:"visible",height:"auto"})},construct:function(){var n=this,t=e(this.element),i=this.settings,o=t.attr("id");n.createMenuItemTemplate(),r[o].append(n.excessItems()),t.css({overflow:"visible",height:"auto"}),c[o]=!0,i.onComplete(),t.find("a").focus(function(){e(this).parents("li").addClass("emhover")}).blur(function(){e(this).parents("li").removeClass("emhover")}),Modernizr.touch&&(t.find("li").not(".excessLinks").has("> ul").each(function(){if(e(this).find(".cloned").length<1&&"#"!=e(this).children("a").attr("href")){var n=e(this).clone();n.addClass("cloned").children("ul").add(n.children("a").children(".right")).remove(),e(this).children("ul").prepend(n)}}).on("click",function(){return!1}),t.find("ul").on("click",function(e){e.stopPropagation()}))},createMenuItemTemplate:function(){var n=e(this.element),t=this.settings,i=n.attr("id");r[i]=n.find("ul").first(),l[i]=e(r[i].children("li").first().clone()),l[i].addClass("hasIcon hasChildren rightAligned excessLinks").removeClass("current parent"),l[i].find("ul").length>0&&l[i].find("ul").remove(),l[i].children("a").removeClass("current parent").removeAttr("href"),l[i].find(".right").remove(),l[i].find(".middle").text(t.title).addClass("hidden"),l[i].find(".left").children("i").length>0?l[i].find(".left").children("i").removeClass().addClass("im icn-"+t.icon):l[i].find(".left").length>0?l[i].find(".left").html('<i class="im icn-'+t.icon+'" aria-hidden="true"></i>'):l[i].children("a").html('<span class="left"><i class="im icn-'+t.icon+'" aria-hidden="true"></i></span>')},measureExtendItem:function(){var n=e(this.element),t=(this.settings,n.attr("id"));r[t].append(l[t]);var i=r[t].children("li").last(),o=i.outerWidth(!0);return i.remove(),o},excessItems:function(){var n=this,t=e(this.element),i=this.settings,o=1,s=!1,a=t.attr("id"),c=r[a].children("li").length,d=0,u=null!=i.maxWidth&&i.maxWidth>0?i.maxWidth:e(this.element).outerWidth(!0),f=n.measureExtendItem(),p=0;r[a].children("li").has("ul").length>0&&(p=r[a].children("li").has("ul").first().children("ul").outerWidth());var h=l[a],v=e('<ul class="level2"></ul>'),m=null!=i.contentEl&&e(i.contentEl).length>0?e(i.contentEl).outerWidth(!1):u;return r[a].children("li").each(function(){d+=e(this).outerWidth(!0);var n=e(this).position(),t=0;if(e(this).children("ul").length>0){var i=1;e(this).find("ul:not(:has(ul))").each(function(){e(this).parentsUntil(a,"ul").size()>i&&(i=e(this).parentsUntil(a,"ul").size())}),t=i}c>o&&d+f>u||o==c&&d>u?(s=!0,e(this).hasClass("current")&&!h.hasClass("current")&&h.add(h.children("a")).addClass("current"),e(this).hasClass("parent")&&!h.hasClass("parent")&&h.add(h.children("a")).addClass("parent"),v.append(e(this).clone()),e(this).remove()):n.left+p*t>m&&e(this).addClass("rightAligned"),o++}),v.find("ul").each(function(){var n=e(this).attr("class"),t=n.replace(/[0-9]/g,""),i=n.replace(/[A-Za-z$-]/g,"");e(this).removeClass(n).addClass(t+(parseInt(i)+1).toString())}),h.append(v),s?h:null},viewportWidth:function(){var e=n,i="inner";return"innerWidth"in n||(i="client",e=t.documentElement||t.body),e[i+"Width"]}},e[s]=e.fn[s]=function(n){var t=arguments;if(n===i||"object"==typeof n){if(this instanceof e)return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new o(this,n))});e.extend(a,n)}else if("string"==typeof n&&"_"!==n[0]&&"init"!==n){var l;return this.each(function(){var i=e.data(this,"plugin_"+s);i instanceof o&&"function"==typeof i[n]&&(l=i[n].apply(i,Array.prototype.slice.call(t,1)))}),l!==i?l:this}}}(jQuery,window,document);var maxWidth=980,$wrapper,$toTop,$body,$footer,$headerNav,$userNav,$footerNav,footerRoom=!1,$footerPadEl,$leftMenu,$rightMenu;$(document).ready(function(){$wrapper=$("#wrapper"),$toTop=$("#toTop"),$body=$("body"),$headerNav=$("#header").find("#headerNav"),$userNav=$("#userNav"),$footer=$("#footer"),$footerNav=$("#footerNav"),$footerPadEl=$("#wrapper"),$leftMenu=$headerNav,$rightMenu=$("#sidebar").find("#sideNav"),$centerMenu=$("#centerMenuEg"),$.offCanvas({target:"#offCanvasHolder",hiddenClass:"hideMenu",pushElems:"#wrapper"}),$leftMenu.offCanvas({titleText:"Menu"}),$userNav.offCanvas({side:"left",titleText:"Account"}),$centerMenu.offCanvas({copyType:"original",side:"center",titleText:"Center Menu",toggleIcon:"grid",iconOnly:!0}),$rightMenu.offCanvas({copyType:"original",side:"right",titleText:"Menu"}),$.extendMenu({breakpoint:maxWidth,contentEl:"#headercenter"}),$headerNav.extendMenu({}),$userNav.extendMenu({}),breakpoint(!1),Modernizr.mq("only all")&&$(window).on("debouncedresize",function(){breakpoint(!0)}),$.cookieBar({policyButton:!0,policyText:"Cookie Policy",policyURL:"/cookie-usage/",fixed:!0}),$(".btn-wrap").children(".btn").on("focus",function(){$(this).parent().addClass("focus")}).on("blur",function(){$(this).parent().removeClass("focus")}),$footer.find("a, input").on("focus",function(){$("html, body").animate({scrollTop:$(document).height()-$(window).height()},{duration:700,easing:"swing"})}).on("blur",function(){$("html, body").stop()}),$(window).scroll(function(){$(window).scrollTop()>100?($toTop.addClass("visible"),Modernizr.csstransitions||$toTop.fadeIn(800)):Modernizr.csstransitions?$toTop.removeClass("visible"):$toTop.fadeOut(800,function(){$(this).removeClass("visible")})}),$toTop.click(function(){return $("html, body").animate({scrollTop:0},{duration:700,easing:"swing"}),!1}),window.scrollTo=function(){},$wrapper.find("#wrapper-inner").find("a[href^='#']").not("a[href='#']").click(function(){return scrollToAnchor($(this).attr("href")),!1})}),window.top!==window.self&&(window.top.location=window.self.location);