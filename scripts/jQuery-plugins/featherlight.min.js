!function(e){"use strict";if("undefined"!==e){var t={id:0,defaults:{autostart:!0,namespace:"featherlight",selector:"[data-featherlight]",context:"body",type:{image:!1,ajax:!1},targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",openSpeed:250,closeSpeed:250,closeOnBg:!0,closeOnEsc:!0,closeIcon:"&#10005;",beforeOpen:null,beforeClose:null,afterOpen:null,afterClose:null,open:function(t){var n=!0;"function"==typeof e.featherlight.defaults.beforeOpen&&(n=e.proxy(e.featherlight.defaults.beforeOpen,this,t)()),n!==!1&&(n=e.proxy(e.featherlight.methods.open,this,t)()),n!==!1&&"function"==typeof e.featherlight.defaults.afterOpen&&e.proxy(e.featherlight.defaults.afterOpen,this,t)()},close:function(t){var n=!0;"function"==typeof e.featherlight.defaults.beforeClose&&(n=e.proxy(e.featherlight.defaults.beforeClose,this,t)()),n!==!1&&(n=e.proxy(e.featherlight.methods.close,this,t)()),n!==!1&&"function"==typeof e.featherlight.defaults.afterClose&&e.proxy(e.featherlight.defaults.afterClose,this,t)()}},methods:{setup:function(n,a){n=e.extend({},t.defaults,n);var o=e(this)||e(),i=o.attr("data-"+n.namespace+"-variant")||n.variant,s=n.resetCss?n.namespace+"-reset":n.namespace,c=e(n.background||'<div class="'+s+'"><div class="'+s+'-content"><span class="'+s+'-close">Close</span></div></div>'),f={id:t.id++,config:n,content:a,$elm:o,$instance:c.clone().addClass(i)};f.$instance.on(n.closeTrigger+"."+n.namespace,e.proxy(n.close,f)),f.config.closeOnEsc&&e(document).bind("keyup."+f.config.namespace+f.id,function(e){27===e.keyCode&&f.$instance.find("."+f.config.namespace+"-close").click()}),o.length>0&&this.tagName?o.on(n.openTrigger+"."+n.namespace,e.proxy(n.open,f)):e.proxy(n.open,f)()},getContent:function(){var t=this,n=!0,a=t.content,o=null,i=t.$elm.attr(t.config.targetAttr)||"",s="";return t.$content instanceof e==!1&&"string"==typeof a?o=e(a):a instanceof e==!1&&(t.config.type.image===!0||"image"===i||i.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?(s=i.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?i:t.$elm.attr("href"),o=e('<img src="'+s+'" alt="" class="'+t.config.namespace+'-image" />')):t.config.type.ajax===!0||"ajax"===i||i.match(/(http|htm|php)/i)?(s=i.match(/(http|htm|php)/i)?i:t.$elm.attr("href"),a=s?e("<div></div>").load(s,function(n,o){"error"!==o&&e.featherlight(a.html(),t.config)}):null,n=!1):i?o=e(e(i),t.config.context):n=!1),n&&o instanceof e&&((o.is("iframe")||e("iframe",o).length>0)&&t.$instance.addClass(t.config.namespace+"-iframe"),o.addClass(t.config.namespace+"-inner"),t.$content=o.clone(),t.$instance.find("."+t.config.namespace+"-inner").remove(),t.$instance.find("."+t.config.namespace+"-content").append(t.$content)),n},open:function(n){n&&n.preventDefault();var a=this;return e.proxy(t.methods.getContent,a)()===!1?!1:(a.$instance.prependTo("body").fadeIn(a.config.openSpeed),void 0)},close:function(t){var n=this,a=n.config,o=e(t.target);(a.closeOnBg&&o.is("."+a.namespace)||o.is("."+a.namespace+"-close"))&&(t&&t.preventDefault(),n.config.closeOnEsc&&e(document).unbind("keyup."+n.config.namespace+n.id),n.$instance.fadeOut(n.config.closeSpeed,function(){n.$instance.detach()}))}}};e.featherlight=function(n,a){"string"!=typeof n&&n instanceof e==!1?(a="Object"==typeof n?e.extend({},t.defaults,n):t.defaults,e(a.selector,a.context).featherlight()):e.proxy(t.methods.setup,null,a,n)()},e.fn.featherlight=function(n,a){e(this).each(function(){e.proxy(t.methods.setup,this,n,a)()})},e.extend(e.featherlight,t),e(document).ready(function(){var t=e.featherlight.defaults;t.autostart&&e(t.selector,t.context).featherlight()})}}("function"==typeof jQuery?jQuery:alert("Too much lightness, Featherlight needs jQuery."));