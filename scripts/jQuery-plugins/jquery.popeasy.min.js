!function(o){o.fn.modal=function(e){function i(){o("."+e.videoClass).attr("src",e.video),c.hide(),a.css({top:o(window).height()/2-a.outerHeight()/2+o(window).scrollTop(),left:o(window).width()/2-a.outerWidth()/2+o(window).scrollLeft()}),l===!1?(d.css({opacity:e.opacity,backgroundColor:"#"+e.background}),d[e.animationEffect](e.animationSpeed),a.delay(e.animationSpeed)[e.animationEffect](e.animationSpeed)):a.show(),l=!0}function n(){c.stop(!0).animate({top:o(window).height()/2-c.outerHeight()/2+o(window).scrollTop(),left:o(window).width()/2-c.outerWidth()/2+o(window).scrollLeft()},e.moveModalSpeed)}function t(){return o("."+e.videoClass).attr("src",""),l=!1,c.fadeOut(100,function(){"slideDown"===e.animationEffect?d.slideUp():"fadeIn"===e.animationEffect&&d.fadeOut()}),!1}e=o.extend({trigger:".modalLink",olay:"div.overlay",modals:"div.modal",animationEffect:"fadeIn",animationSpeed:400,moveModalSpeed:"slow",background:"000",opacity:.8,openOnLoad:!1,docClose:!0,closeByEscape:!0,moveOnScroll:!0,resizeWindow:!0,video:"",videoClass:"video",close:".closeBtn"},e);var a,d=o(e.olay),c=o(e.modals),l=!1;return"fadein"===e.animationEffect&&(e.animationEffect="fadeIn"),"slidedown"===e.animationEffect&&(e.animationEffect="slideDown"),d.css({opacity:0}),e.openOnLoad?i():(d.hide(),c.hide()),o(e.trigger).off().on("click",function(e){e.preventDefault(),o(".modalLink").length>1?(getModal=o(this).attr("href"),a=o(getModal)):a=o(".modal"),i()}),e.docClose&&d.off().on("click",t),o(e.close).off().on("click",t),e.closeByEscape&&o(window).on("keyup",function(o){27===o.which&&t()}),e.resizeWindow?(o(window).on("resize",n),e.moveOnScroll?(o(window).on("scroll",n),void 0):!1):!1}}(jQuery);